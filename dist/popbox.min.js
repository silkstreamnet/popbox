(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{const t=jQuery;var o=e.n(t);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n={$window:o()(window),$document:o()(document),$html:o()("html"),$body:o()("body"),_event_namespace:"Popbox",_next_instance_id:0,_next_transition_id:0,_instances:{length:0},_support:{},_speeds:{_default:300,fast:300,medium:600,slow:1e3},_eases:{_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},_transition_end_event_names:{transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},_test_div:document.createElement("div")};function s(e){if(e in n._test_div.style)return e;for(var t=["Moz","Webkit","O","ms"],o=e.charAt(0).toUpperCase()+e.substr(1),i=0;i<t.length;++i){var s=t[i]+o;if(s in n._test_div.style)return s}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n._support.transition=s("transition"),n._support.transform=s("transform"),n._support.transform_origin=s("transformOrigin"),n._support.transition_end=n._transition_end_event_names[n._support.transition]||null,n._support.transform3d=function(){var e,t=document.createElement("p"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(t,null),o)o.hasOwnProperty(i)&&void 0!==t.style[i]&&(t.style[i]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(o[i]));return document.body.removeChild(t),void 0!==e&&e.length>0&&"none"!==e}(),n._test_div=null,n.param=function(e,t){return void 0!==e?e:t},n.regexEscape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.isSet=function(e){return void 0!==e},n.isFunction=function(e){return"function"==typeof e},n.isPlainObject=function(e){return"object"===i(e)&&null!=e&&!(e instanceof Array)},n.isArray=function(e){return"object"===i(e)&&e instanceof Array},n.isNumber=function(e,t){return"number"==typeof e&&(!n.param(t,!1)||e>0)},n.isString=function(e,t){return"string"==typeof e&&(!n.param(t,!1)||""!==e)},n.getAttributeString=function(e,t){var o=e.attr(t);return void 0===o||!1===o||""===o?"":o},n.indexOf=function(e,t,o){if(o=o||!1,t instanceof Array)for(var i=0;i<t.length;i++)if(o){if(t[i]===e)return i}else if(t[i]==e)return i;return-1},n.trim=function(e){return n.isString(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},n.getInlineStyle=function(e,t){var o=n.getAttributeString(e,"style");if(t&&o){var i=new RegExp("(^|;)\\s*"+n.regexEscape(t)+"\\s*:");if(o.match(i))return e.css(t)}return""},n.splitOutside=function(e,t,o,i){void 0===o&&(o=""),void 0===i&&(i=o),o instanceof Array||(o=[o]),i instanceof Array||(i=[i]);for(var n=[],s=t.split(e),r=!1,a=0,p=o[a],l=i[a],c=0;c<s.length;c++){for(var _=!1,g=0;g<o.length;g++){p=o[g],l=i[a];var d=p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),u=l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),m=s[c].match(new RegExp("["+d+"][^"+u+"]*")),h=s[c].match(new RegExp("[^"+d+"]*["+u+"]"));!1!==r?g===a&&(r+=s[c],h?(n.push(r),r=!1):r+=e,_=!0):m&&(r=s[c]+e,a=g<i.length?g:0,_=!0)}_||n.push(s[c])}return n},n.elementPaddingWidth=function(e,t){return e&&e.length?e.outerWidth(!!n.param(t,!1))-e.width():0},n.elementPaddingHeight=function(e,t){return e&&e.length?e.outerHeight(!!n.param(t,!1))-e.height():0},n.transition=function(e,t,i,s,r,a){t=n.param(t,{}),i=n.param(i,n._speeds._default),s=n.param(s,n._eases._default),a=!!n.isString(a,!0)&&a;var p,l=[],c=!1,_=!1,g=n._next_transition_id;if(n._next_transition_id++,n._support.transition_end&&i>25){for(p in t)if(t.hasOwnProperty(p)){l.push(p+" "+i+"ms "+s);var d=e.css(p),u=t[p],m=["width","height","top","right","bottom","left"];n.isString(d,!0)&&(d=d.trim()).match(/^[0-9]+(?:\.[0-9]+)?\s*.{0,4}$/)&&(d=parseFloat(d)),n.isString(u,!0)&&(u=u.trim()).match(/^[0-9]+(?:\.[0-9]+)?\s*.{0,4}$/)&&(u=parseFloat(u)),n.isNumber(d,!0)&&(d=Math.ceil(d*(n.indexOf(p,m)>-1?1:100))),n.isNumber(u,!0)&&(u=Math.ceil(u*(n.indexOf(p,m)>-1?1:100))),n.isNumber(d)&&n.isNumber(u)?(d-u>1||u-d>1)&&(c=!0):d!==u&&(c=!0)}for(var h=n.splitOutside(",",e.css("transition"),"(",")"),f=0;f<h.length;f++){var b=n.trim(h[f]),v=!1;if(b&&!b.match(/all 0(?:\.[0]+)?[^0-9]/)){for(p in t)if(t.hasOwnProperty(p)&&n.isString(p,!0)&&h[f].match(new RegExp(n.regexEscape(p)))){v=!0;break}v||(l.push(b),c=!0)}}var x=e.hasClass("popbox-animating");l.length&&c&&(e.off(".popbox_auto_transition_end"),n.transitionAddCallback(e,r,a),e.css("transition",l.join(", ")),e.css(t).addClass("popbox-animating"),e.data("popbox-transition-id",g),setTimeout((function(){var t=!1,s=function(){if(e.data("popbox-transition-id")===g){!1!==t&&(clearTimeout(t),t=!1),e.off(".popbox_auto_transition_end"),e.css("transition","").removeClass("popbox-animating");var i=e.data("popbox-transition-end-functions");if(i&&(i=o().extend({},i),e.data("popbox-transition-id",!1),n.clearTransition(e)),i)for(var s in i)if(i.hasOwnProperty(s))for(var r=0;r<i[s].length;r++)n.isFunction(i[s][r])&&i[s][r]()}};e.off(".popbox_auto_transition_end").on(n._support.transition_end+".popbox_auto_transition_end",(function(e){e.stopPropagation(),s()})),t=setTimeout((function(){t=!1,s()}),i+50)}),0),_=!0)}_||(e.css(t),x?n.transitionAddCallback(e,r,a):n.isFunction(r)&&setTimeout((function(){r()}),0))},n.transitionAddCallback=function(e,t,o){if(o=n.isString(o,!0)?o:"_default",e.length&&n.isFunction(t)){var i=e.data("popbox-transition-end-functions");i&&i[o]?i[o].push(t):i?i[o]=[t]:(i={})[o]=[t],e.data("popbox-transition-end-functions",i)}},n.clearTransition=function(e,t){if(t=!!n.isString(t,!0)&&t){var o=e.data("popbox-transition-end-functions");o&&o[t]&&(delete o[t],e.data("popbox-transition-end-functions",o))}else e.data("popbox-transition-end-functions",!1)},n.getTrueWidth=function(e){return e&&e.length?e.get(0).getBoundingClientRect().right-e.get(0).getBoundingClientRect().left:0},n.getTrueHeight=function(e){return e&&e.length?e.get(0).getBoundingClientRect().bottom-e.get(0).getBoundingClientRect().top:0},n.offTouchClick=function(e){e.length&&e.off(".Popbox_touch_click")},n.onTouchClick=function(e,t,i,s){if(e.length){s&&e.on("click.Popbox_touch_click",(function(e){e.preventDefault()})),e.on("mousedown.Popbox_touch_click touchstart.Popbox_touch_click",t,(function(e){(e.originalEvent.touches||1===e.which)&&o()(this).off("mouseup.Popbox_touch_click touchend.Popbox_touch_click").on("mouseup.Popbox_touch_click touchend.Popbox_touch_click",(function(t){(e.originalEvent.touches||1===e.which)&&(s&&t.preventDefault(),n.isFunction(i)&&i.call(this,t))}))}))}};var a=function(e){this.self=e};a.prototype.reset=function(){var e=this.self;e._private.triggerHook("reset"),e.trigger("reset"),!1!==e.properties.disable_background_click_timer&&clearTimeout(e.properties.disable_background_click_timer),e.properties={is_open:!1,is_loading:!1,is_changing_state:!1,disable_background_click:!1,disable_background_click_timer:!1,last_html_overflow:!1,last_html_margin_right:!1,instance_id:e.properties.instance_id,events:e.properties.events,cache:{images:{},interface_images_pending:0,content_images_pending:0,window_width:-1}},e.elements={$popbox:null,$popbox_loading:null,$popbox_popup:null,$popbox_empty:null,$popbox_wrapper:null,$popbox_container:null,$popbox_title:null,$popbox_close:null,$popbox_content:null,$popbox_overlay:e.elements.$popbox_overlay},e._private.triggerHook("after_reset"),e.trigger("after_reset")},a.prototype.createOverlay=function(){var e=this.self,t=e.settings.container?o()(e.settings.container):n.$body,i=t.children(".popbox-overlay");i.length?e.elements.$popbox_overlay=i:e.elements.$popbox_overlay=o()("<div/>",{class:"popbox-overlay",css:{display:"none",position:"fixed",top:"0",right:"0",bottom:"0",left:"0"}}).data("is_open",!1).appendTo(t),e.elements.$popbox_overlay.html(e.settings.overlay_text),e.elements.$popbox_overlay.off("click.popbox_overlay_close").on("click.popbox_overlay_close",(function(t){for(var o in t.preventDefault(),n._instances)n._instances.hasOwnProperty(o)&&n._instances[o]instanceof e.constructor&&n._instances[o].isOpen()&&n._instances[o].close();e._private.closeOverlay(!0)}))},a.prototype.destroyOverlay=function(){var e=this.self;n._instances.length<=0&&e.elements.$popbox_overlay&&(e.elements.$popbox_overlay.remove(),e.elements.$popbox_overlay=null)},a.prototype.openOverlay=function(){var e=this.self;e.elements.$popbox_overlay||e._private.createOverlay(),!1===e.elements.$popbox_overlay.data("is_open")&&(e.elements.$popbox_overlay.css({display:"block",opacity:"0"}),n.clearTransition(e.elements.$popbox_overlay),n.transition(e.elements.$popbox_overlay,{opacity:"1"},e._private.getOverlayAnimationSpeed("open"),e._private.getOverlayAnimationEase("open")),e.elements.$popbox_overlay.data("is_open",!0))},a.prototype.closeOverlay=function(e){var t=this.self;if(t.elements.$popbox_overlay){if(!e){var o=!1;for(var i in n._instances)if(n._instances.hasOwnProperty(i)&&n._instances[i]instanceof t.constructor&&n._instances[i].isOpen()){o=!0;break}if(o)return}!0===t.elements.$popbox_overlay.data("is_open")?(n.clearTransition(t.elements.$popbox_overlay),n.transition(t.elements.$popbox_overlay,{opacity:"0"},t._private.getOverlayAnimationSpeed("close"),t._private.getOverlayAnimationEase("close"),(function(){t.elements.$popbox_overlay&&t.elements.$popbox_overlay.css({display:"none"}),t._private.destroyOverlay()})),t.elements.$popbox_overlay.data("is_open",!1)):t.elements.$popbox_overlay.hasClass("popbox-animating")||t._private.destroyOverlay()}},a.prototype.getAnimationStartProperties=function(e){var t=this.self;return n.isSet(t.animations[t.settings.animation])?t.animations[t.settings.animation][e][0]:t.animations.fade[e][0]},a.prototype.getAnimationEndProperties=function(e){var t=this.self;return n.isSet(t.animations[t.settings.animation])?t.animations[t.settings.animation][e][t.animations[t.settings.animation][e].length-1]:t.animations.fade[e][t.animations.fade[e].length-1]},a.prototype.getAnimationSpeed=function(e){var t=this.self;return t.settings[e+"_animation_speed"]||t.settings.animation_speed||n._speeds._default},a.prototype.getAnimationEase=function(e){var t=this.self;return t.settings[e+"_animation_ease"]||t.settings.animation_ease||n._eases._default},a.prototype.getOverlayAnimationSpeed=function(e){var t=this.self;return!0===t.settings[e+"_overlay_animation_speed"]?t._private.getAnimationSpeed(e):t.settings[e+"_overlay_animation_speed"]||t.settings.overlay_animation_speed||t._private.getAnimationSpeed(e)},a.prototype.getOverlayAnimationEase=function(e){var t=this.self;return!0===t.settings[e+"_overlay_animation_ease"]?t._private.getAnimationEase(e):t.settings[e+"_overlay_animation_ease"]||t.settings.overlay_animation_ease||t._private.getAnimationEase(e)},a.prototype.checkImagesLoaded=function(){var e=this.self;if(e.isCreated()){e.properties.cache.content_images_pending=0,e.properties.cache.interface_images_pending=0,e.elements.$popbox.find("img").each((function(){var t=this,i=o()(this);t.src&&(t.complete&&n.isNumber(t.naturalWidth,!1)||4===t.readyState||"complete"===t.readyState||(e.properties.cache.images[t.src]={origin:t,$origin:i,proxy:!1,loaded:!1,type:i.closest(e.elements.$popbox_content).length>0?"content":"interface"}))}));var t=function(t){"content"===t?(e.properties.cache.content_images_pending--,e.properties.cache.content_images_pending<=0&&(e.properties.cache.content_images_pending=0,e.isChangingState()&&e.elements.$popbox_popup.hasClass("popbox-animating")?n.transitionAddCallback(e.elements.$popbox_popup,(function(){e.adjust(!0)})):e.adjust(!0))):(e.properties.cache.interface_images_pending--,e.properties.cache.interface_images_pending<=0&&(e.properties.cache.interface_images_pending=0))};for(var i in e.properties.cache.images)e.properties.cache.images.hasOwnProperty(i)&&(e.properties.cache.images[i].proxy?e.properties.cache.images[i].loaded||("content"===e.properties.cache.images[i].type?e.properties.cache.content_images_pending++:e.properties.cache.interface_images_pending++):function(o){var i=new Image;"content"===e.properties.cache.images[o].type?e.properties.cache.content_images_pending++:e.properties.cache.interface_images_pending++,e.properties.cache.images[o].proxy=i,i.onload=function(){e.properties.cache.images[o].loaded||(e.properties.cache.images[o].loaded=!0,t(e.properties.cache.images[o].type),e._private.triggerHook("image_load",[o]),e.trigger("image_load",!1,[o]))},i.onerror=function(){e.properties.cache.images[o].loaded||(e.properties.cache.images[o].loaded=!0,t(e.properties.cache.images[o].type),e._private.triggerHook("image_error",[o]),e.trigger("image_error",!1,[o]))},i.src=o}(i));if(0===e.properties.cache.content_images_pending&&0===e.properties.cache.interface_images_pending)return!0}return!1},a.prototype.applySettings=function(){var e=this.self,t=n.$window.width(),i=[],s=o().extend(!0,{},e.base_settings);if(t!==e.properties.cache.window_width){if("object"===r(e.base_settings.responsive))for(var a in e.base_settings.responsive)e.base_settings.responsive.hasOwnProperty(a)&&i.push(a);if(i.length){i.sort((function(e,t){return e-t}));for(var p=i.length;p>=0;p--)if(t>parseInt(i[p],10)){o().extend(!0,s,e.base_settings.responsive[i[p]]);break}e.settings=s,e._private.applyDomSettings()}else e.settings=s;e.properties.cache.window_width=t}else e.settings=s},a.prototype.applyDomSettings=function(){var e=this.self;if(e.isCreated()){e._private.triggerHook("update_dom"),e.trigger("update_dom"),e.elements.$popbox.attr("class","").addClass("popbox"),e.elements.$popbox_loading.html(e.settings.loading_text),e.elements.$popbox_close.html(e.settings.close_text),e.elements.$popbox_overlay.html(e.settings.overlay_text),e.elements.$popbox_title.html(e.settings.title),n.isFunction(e.settings.content.appendTo)?(e.elements.$popbox_content.html(""),e.settings.content.appendTo(e.elements.$popbox_content)):e.elements.$popbox_content.html(e.settings.content),n.isString(e.settings.add_class,!0)&&e.elements.$popbox.addClass(e.settings.add_class),e.settings.fit?e.elements.$popbox.addClass("popbox-fit"):e.elements.$popbox.removeClass("popbox-fit"),!1===e.settings.close_text?e.elements.$popbox_close.css("display","none"):e.elements.$popbox_close.css("display","block"),!1===e.settings.title?e.elements.$popbox_title.css("display","none"):e.elements.$popbox_title.css("display","block"),n.isNumber(e.settings.z_index,!0)&&(e.elements.$popbox_overlay.css("z-index",e.settings.z_index),e.elements.$popbox.css("z-index",e.settings.z_index+1),e.elements.$popbox_popup.css("z-index",e.settings.z_index+2));var t={mobile:navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g),ios:navigator.userAgent.match(/(iPad|iPhone|iPod)/g),android:navigator.userAgent.match(/(Android)/g)};!0===e.settings.absolute||n.isString(e.settings.absolute)&&t[e.settings.absolute]?e.elements.$popbox.css({position:"absolute","overflow-y":"visible","overflow-x":"visible"}):e.elements.$popbox.css({position:"fixed","overflow-y":"scroll","overflow-x":"hidden"}),e._private.triggerHook("after_update_dom"),e.trigger("after_update_dom")}},a.prototype.triggerHook=function(e,t){var o=this.self;if(t=n.isArray(t)?t:[],n.isPlainObject(o.hooks)&&n.isArray(o.hooks[e]))for(var i=0;i<o.hooks[e].length;i++)n.isFunction(o.hooks[e][i])&&o.hooks[e][i].apply(o,t)};var p={width:!1,height:!1,min_width:100,min_height:100,max_width:!1,max_height:!1,container:!1,animation:"fade",animation_speed:n._speeds._default,animation_ease:n._eases._default,open_animation:null,open_animation_speed:null,open_animation_ease:null,close_animation:null,close_animation_speed:null,close_animation_ease:null,overlay_animation_speed:null,overlay_animation_ease:null,open_overlay_animation_speed:null,open_overlay_animation_ease:null,close_overlay_animation_speed:null,close_overlay_animation_ease:null,content:"",title:!1,close_text:"X",overlay_text:"",loading_text:"Loading",hide_page_scroll:!0,hide_page_scroll_space:!0,content_additional_offset:!1,absolute:"mobile",add_class:"",fit:!1,cache:!1,wait_for_images:!0,width_margin:.1,height_margin:.08,z_index:99900,mode:!1,open:!1,after_open:!1,close:!1,after_close:!1,responsive:{}},l=function(e){var t=this;t._private=new a(t),t._private.triggerHook("initialize",[e]),t.base_settings=o().extend(!0,{},t.default_settings,n.param(e,{})),t.properties={instance_id:n._next_instance_id,events:{},cache:{}},t.elements={$popbox_overlay:null},t._private.applySettings(),t._private.reset(),n._next_instance_id++,t.trigger("initialize",!1,[e]),t._private.triggerHook("after_initialize",[e]),t.trigger("after_initialize",!1,[e])};l.prototype.version="3.1.1",l.prototype.plugins={},l.prototype.default_settings=p,l.prototype._static=n,l.prototype.animations={fade:{open:[{opacity:"0"},{opacity:"1"}],close:[{opacity:"1"},{opacity:"0"}]}},l.prototype.hooks={},l.prototype.addHook=function(e,t){n.isArray(l.prototype.hooks[e])||(l.prototype.hooks[e]=[]),l.prototype.hooks[e].push(t)},l.prototype.create=function(){var e=this;e.destroy(),e._private.triggerHook("create"),e._private.createOverlay();var t=e.settings.container?o()(e.settings.container):n.$body;e.elements.$popbox=o()("<div/>",{class:"popbox",css:{display:"none",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px","overflow-y":"scroll","overflow-x":"hidden"}}),e.elements.$popbox_empty=o()("<div/>",{class:"popbox-empty",css:{display:"block",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}}).appendTo(e.elements.$popbox),e.elements.$popbox_popup=o()("<div/>",{class:"popbox-popup",css:{display:"none",position:"absolute",top:"50%",left:"50%",bottom:"auto",right:"auto",width:"0px",height:"0px"}}).appendTo(e.elements.$popbox),e.elements.$popbox_loading=o()("<div/>",{class:"popbox-loading",css:{display:"none"}}).appendTo(e.elements.$popbox_popup),e.elements.$popbox_wrapper=o()("<div/>",{class:"popbox-wrapper"}).appendTo(e.elements.$popbox_popup),e.elements.$popbox_container=o()("<div/>",{class:"popbox-container"}).appendTo(e.elements.$popbox_wrapper),e.elements.$popbox_title=o()("<div/>",{class:"popbox-title"}).appendTo(e.elements.$popbox_container),e.elements.$popbox_content=o()("<div/>",{class:"popbox-content"}).appendTo(e.elements.$popbox_container),e.elements.$popbox_close=o()("<a/>",{class:"popbox-close",href:"javascript:void(0);"}).appendTo(e.elements.$popbox_popup),e._private.applyDomSettings();var i=n._event_namespace+"Close";e.elements.$popbox.off("click."+i).on("click."+i,".popbox-close,.close-popbox",(function(t){t.preventDefault(),e.close()}));var s=n._event_namespace+"ComplexCloseStart",r=n._event_namespace+"ComplexClose";e.elements.$popbox.on("mousedown."+s+" touchstart."+s,(function(t){var i=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageX:t.pageX,n=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageY:t.pageY;(t.originalEvent.touches||1===t.which)&&0===o()(t.target).closest(".popbox-popup").length&&i<e.elements.$popbox_empty.width()&&(e.elements.$popbox.off("."+r),e.elements.$popbox.on("mouseup."+r+" touchend."+r,(function(i){if((i.originalEvent.touches||1===i.which)&&(e.elements.$popbox.off("."+r),!e.properties.disable_background_click&&t.target===i.target&&0===o()(i.target).closest(".popbox-popup").length))return i.preventDefault(),e.close(),!1})),e.elements.$popbox.on("mousemove."+r+" touchmove."+r,(function(t){var o=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageY:t.pageY;(o<i-5||o>i+5||s<n-5||s>n+5)&&e.elements.$popbox.off("."+r)})),e.elements.$popbox.on("scroll."+r,(function(){e.elements.$popbox.off("."+r)})))})),e.elements.$popbox.appendTo(t),n._instances[e.properties.instance_id]=e,n._instances.length++,e._private.triggerHook("after_create")},l.prototype.destroy=function(){var e=this;e.elements.$popbox&&(e._private.triggerHook("destroy"),e.elements.$popbox.remove(),e.elements.$popbox=null,n.isSet(n._instances[e.properties.instance_id])&&(delete n._instances[e.properties.instance_id],n._instances.length--),e._private.closeOverlay(),e._private.reset(),e._private.triggerHook("after_destroy"))},l.prototype.update=function(e,t){var i=this;t=n.param(t,!0),o().extend(!0,i.base_settings,n.param(e,{})),i._private.applySettings(),i.isCreated()&&(i.isOpen()?t?i.showLoading((function(){i._private.applyDomSettings(),i.adjust(!0)})):(i._private.applyDomSettings(),i.adjust(!1)):i._private.applyDomSettings())},l.prototype.open=function(){var e=this;if(!e.isOpen()){if(e.elements.$popbox?e._private.applyDomSettings():e.create(),e._private.triggerHook("open"),e.trigger("open"),"absolute"===e.elements.$popbox.css("position"))e.elements.$popbox.css("top",n.$window.scrollTop()+"px");else if(e.settings.hide_page_scroll){var t=n.$body.width();!1===e.properties.last_html_overflow&&(e.properties.last_html_overflow=n.getInlineStyle(n.$html,"overflow"));var o=n.$window.scrollTop();n.$html.addClass("popbox-hide-page-scroll").css("overflow","hidden");var i=n.$body.width();e.settings.hide_page_scroll_space&&(!1===e.properties.last_html_margin_right&&(e.properties.last_html_margin_right=n.getInlineStyle(n.$html,"margin-right")),i>t&&n.$html.css("margin-right",i-t+"px")),n.$window.scrollTop(o)}e._private.openOverlay(),e.elements.$popbox_popup.css({display:"block","box-sizing":"content-box"}),e.elements.$popbox.css({display:"block","box-sizing":"content-box"}),e.elements.$popbox_popup.css({visibility:"visible","box-sizing":"content-box"}),e.properties.is_loading?e.showLoading():e.showContent(),e.adjust(!1),e.elements.$popbox_popup.css(e._private.getAnimationStartProperties("open")),n.clearTransition(e.elements.$popbox_popup),e.properties.is_changing_state=!0,n.transition(e.elements.$popbox_popup,e._private.getAnimationEndProperties("open"),e._private.getAnimationSpeed("open"),e._private.getAnimationEase("open"),(function(){e.properties.is_changing_state=!1})),e.properties.is_open=!0,e.elements.$popbox_popup.hasClass("popbox-animating")&&(e.properties.disable_background_click=!0,e.properties.disable_background_click_timer=setTimeout((function(){e.properties.disable_background_click=!1,e.properties.disable_background_click_timer=!1,e._private.triggerHook("ready"),e.trigger("ready")}),e._private.getAnimationSpeed("open")+200)),e._private.triggerHook("after_open"),e.trigger("after_open"),e.elements.$popbox_popup.hasClass("popbox-animating")||(e._private.triggerHook("ready"),e.trigger("ready"))}},l.prototype.close=function(e){var t=this;if(t.isOpen()){for(var o in t._private.triggerHook("close"),t.trigger("close"),t.properties.is_open=!1,t.elements)t.elements.hasOwnProperty(o)&&t.elements[o].length&&n.clearTransition(t.elements[o]);t.elements.$popbox_popup.css(t._private.getAnimationStartProperties("close")),t.properties.is_changing_state=!0,n.transition(t.elements.$popbox_popup,t._private.getAnimationEndProperties("close"),t._private.getAnimationSpeed("close"),t._private.getAnimationEase("close"),(function(){t.properties.is_changing_state=!1,t.elements.$popbox.css({display:"none"}),!1!==t.properties.last_html_overflow&&n.$html.css("overflow",t.properties.last_html_overflow),!1!==t.properties.last_html_margin_right&&n.$html.css("margin-right",t.properties.last_html_margin_right),t.properties.last_html_overflow=!1,t.properties.last_html_margin_right=!1,n.$html.removeClass("popbox-hide-page-scroll"),e||!t.settings.cache?t.destroy():(t.elements.$popbox_popup.css(t._private.getAnimationEndProperties("open")),t.properties.disable_background_click=!1,!1!==t.properties.disable_background_click_timer&&(clearTimeout(t.properties.disable_background_click_timer),t.properties.disable_background_click_timer=!1)),t._private.triggerHook("after_close"),t.trigger("after_close")})),t._private.closeOverlay()}},l.prototype.adjust=function(e){var t=this;if(e=n.param(e,!0),t.isCreated()){var i=function(e,i){e=n.param(e,!1),i=n.param(i,!1),t._private.triggerHook("adjust"),t.trigger("adjust");var s,r,a,p,l=t.elements.$popbox_empty.width(),c=n.$window.height(),_=n.elementPaddingWidth(t.elements.$popbox_popup),g=n.elementPaddingHeight(t.elements.$popbox_popup),d=n.elementPaddingWidth(t.elements.$popbox_content,!0),u=n.elementPaddingHeight(t.elements.$popbox_content,!0),m=(t.settings.width_margin>0?l-l*(2*t.settings.width_margin):l)-_,h=(t.settings.height_margin>0?c-c*(2*t.settings.height_margin):c)-g,f=0,b=0,v=n.isNumber(t.settings.width)?t.settings.width+"px":"auto",x=n.isNumber(t.settings.height)?t.settings.height+"px":"auto",y=h;n.isNumber(t.settings.max_width,!0)&&m>t.settings.max_width&&(m=t.settings.max_width),n.isNumber(t.settings.max_height,!0)&&h>t.settings.max_height&&(h=t.settings.max_height),n.isNumber(t.settings.min_width,!0)&&f<t.settings.min_width&&(f=t.settings.min_width),n.isNumber(t.settings.min_height,!0)&&b<t.settings.min_height&&(b=t.settings.min_height),t.elements.$popbox_content.css({height:"","overflow-y":"","box-sizing":"content-box"}),t.elements.$popbox_wrapper.css({position:"relative",top:"0px",left:"0px",width:t.settings.fit?"99999px":m+"px",height:t.settings.fit?"99999px":"1px",overflow:"hidden","box-sizing":"content-box"}),t.elements.$popbox_container.css({position:"absolute",top:"0px",left:"0px",width:v,height:x,"min-width":!0===t.settings.min_width?"100%":f+"px","min-height":!0===t.settings.min_height?"100%":b+"px","max-width":"100%","box-sizing":"content-box"}),s=Math.ceil(100*n.getTrueWidth(t.elements.$popbox_container))/100,r=Math.ceil(100*n.getTrueHeight(t.elements.$popbox_container))/100;var $=function(e){e=e||!1;var i=r-u,s=t.settings.content_additional_offset;if(i-=t.elements.$popbox_content.offset().top-t.elements.$popbox_container.offset().top,n.isNumber(s)?i+=s:s=[s],s instanceof Array)for(var a=0;a<s.length;a++)if(n.isString(s[a],!0)){var p=0;o()(s[a]).each((function(){var e=o()(this),i=e.offset().top+e.outerHeight(!0)-(t.elements.$popbox_content.offset().top+t.elements.$popbox_content.outerHeight(!0));i>0&&i>p&&(p=i)}))}t.elements.$popbox_content.css({height:e?Math.floor(i)+"px":i+"px","overflow-x":"hidden","overflow-y":e?"scroll":"hidden"})};t.settings.fit?(s>m||r>h)&&((r-u)/(s-d)>(h-u)/(m-d)?(s=(h-u)/(r-u)*(s-d)+d,r=h):(r=(m-d)/(s-d)*(r-u)+u,s=m),"round"===t.settings.fit&&(s=Math.round(s),r=Math.round(r)),$(!1)):(!0===t.settings.max_height||n.isNumber(t.settings.max_height,!0))&&r>h?(r=h,$(!0)):$(!1);var w=function(){t.elements.$popbox_wrapper.css({position:"",top:"",left:"",width:"",height:"",overflow:""}),t.elements.$popbox_container.css({position:"",top:"",left:"",width:"",height:"","min-width":"","min-height":"","max-width":""})};p=(l-(s+_))/2,a=(c-(r+g))/2,r>y&&(a=t.settings.height_margin>0?c*t.settings.height_margin:0),e?(n.clearTransition(t.elements.$popbox_popup,"adjust"),n.transition(t.elements.$popbox_empty,{height:Math.floor(r+g+2*a-1)+"px"},n._speeds.fast,n._eases.easeInOutQuad),n.transition(t.elements.$popbox_popup,{width:s+"px",height:r+"px",top:a+"px",left:p+"px"},n._speeds.fast,n._eases.easeInOutQuad,(function(){w(),i&&t.showContent(),t._private.triggerHook("after_adjust"),t.trigger("after_adjust")}),"adjust")):(w(),t.elements.$popbox_popup.css({width:s+"px",height:r+"px",top:a+"px",left:p+"px"}),t.elements.$popbox_empty.css({height:Math.floor(r+g+2*a-1)+"px"}),i&&t.showContent(),t._private.triggerHook("after_adjust"),t.trigger("after_adjust"))};t._private.checkImagesLoaded(),t.settings.wait_for_images&&t.properties.cache.content_images_pending>0?t.showLoading((function(){e||i(e,!1)})):e?t.showLoading((function(){i(e,!0)})):i(!1,t.properties.is_open)}},l.prototype.showLoading=function(e){var t=this;if(t.isCreated())if(t.isOpen()){if(t.isLoading())return void(n.isFunction(e)&&e());n.clearTransition(t.elements.$popbox_loading),n.clearTransition(t.elements.$popbox_wrapper),n.transition(t.elements.$popbox_wrapper,{opacity:"0"},n._speeds.fast,"linear",(function(){t.elements.$popbox_wrapper.css({visibility:"hidden"}),t.elements.$popbox_loading.css({opacity:"0",display:"block"}),n.transition(t.elements.$popbox_loading,{opacity:"1"},n._speeds.fast,"linear",(function(){n.isFunction(e)&&e()}))}))}else t.elements.$popbox_wrapper.css({opacity:"0",visibility:"hidden"}),t.elements.$popbox_loading.css({opacity:"1",display:"block"}),n.isFunction(e)&&e();else n.isFunction(e)&&e();t.properties.is_loading=!0},l.prototype.showContent=function(e){var t=this;if(t.isCreated())if(t.isOpen()){if(!t.isLoading())return void(n.isFunction(e)&&e());n.clearTransition(t.elements.$popbox_loading),n.clearTransition(t.elements.$popbox_wrapper),n.transition(t.elements.$popbox_loading,{opacity:"0"},n._speeds.fast,"linear",(function(){t.elements.$popbox_loading.css({display:"none"}),t.elements.$popbox_wrapper.css({opacity:"0",visibility:"visible"}),n.transition(t.elements.$popbox_wrapper,{opacity:"1"},n._speeds.fast,"linear",(function(){n.isFunction(e)&&e()}))}))}else t.elements.$popbox_loading.css({display:"none",opacity:"0"}),t.elements.$popbox_wrapper.css({opacity:"1",visibility:"visible"}),n.isFunction(e)&&e();else n.isFunction(e)&&e();t.properties.is_loading=!1},l.prototype.isLoading=function(){return this.properties.is_loading},l.prototype.isOpen=function(){return this.properties.is_open},l.prototype.isChangingState=function(){return this.properties.is_changing_state},l.prototype.isCreated=function(){return!!this.elements.$popbox},l.prototype.on=function(e,t){var o=this,i=e.split(".",2);if(i.length){var s=i[0],r=i[1]?i[1]:"_default";n.isPlainObject(o.properties.events[s])||(o.properties.events[s]={}),n.isArray(o.properties.events[s][r])||(o.properties.events[s][r]=[]),o.properties.events[s][r].push(t)}},l.prototype.off=function(e,t){var o=this,i=e.split(".",2);if(i.length){var s=i[0],r=!!i[1]&&i[1];if(n.isPlainObject(o.properties.events[s]))for(var a in o.properties.events[s])if(o.properties.events[s].hasOwnProperty(a)&&n.isArray(o.properties.events[s][a])&&(!1===r||r===a))if(n.isFunction(t))for(var p=0;p<o.properties.events[s][a].length;p++)o.properties.events[s][a][p]===t&&(o.properties.events[s][a].splice(p,1),p--);else o.properties.events[s][a]=[]}},l.prototype.trigger=function(e,t,o){var i=this;o=n.isArray(o)?o:[];var s=e.split(".",2);if(s.length){var r=s[0],a=!!s[1]&&s[1];if(n.isFunction(i.settings[r])&&i.settings[r](),n.isPlainObject(i.properties.events[r]))for(var p in i.properties.events[r])if(i.properties.events[r].hasOwnProperty(p)&&n.isArray(i.properties.events[r][p])&&(!1===a||a===p))for(var l=0;l<i.properties.events[r][p].length;l++)!n.isFunction(i.properties.events[r][p][l])||n.isFunction(t)&&i.properties.events[r][p][l]!==t||i.properties.events[r][p][l].apply(i,o)}};var c;c=l,n.$window.off("resize."+n._event_namespace).on("resize."+n._event_namespace,(function(){if(n._instances.length>0)for(var e in n._instances)n._instances.hasOwnProperty(e)&&n._instances[e]instanceof c&&(n._instances[e]._private.applySettings(),n._instances[e].isOpen()&&n._instances[e].adjust(!1))})),o().Popbox=l})()})();