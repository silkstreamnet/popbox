(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery;var o=e.n(t);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i={$window:o()(window),$document:o()(document),$html:o()("html"),$body:o()("body"),_event_namespace:"Popbox",_next_instance_id:0,_next_transition_id:0,_instances:{length:0},_support:{},_speeds:{_default:300,fast:300,medium:600,slow:1e3},_eases:{_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},_transition_end_event_names:{transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},_test_div:document.createElement("div"),_last_html_overflow:!1,_last_html_margin_right:!1};function s(e){if(e in i._test_div.style)return e;for(var t=["Moz","Webkit","O","ms"],o=e.charAt(0).toUpperCase()+e.substr(1),n=0;n<t.length;++n){var s=t[n]+o;if(s in i._test_div.style)return s}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i._support.transition=s("transition"),i._support.transform=s("transform"),i._support.transform_origin=s("transformOrigin"),i._support.transition_end=i._transition_end_event_names[i._support.transition]||null,i._support.transform3d=function(){var e,t=document.createElement("p"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(t,null),o)o.hasOwnProperty(n)&&void 0!==t.style[n]&&(t.style[n]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(o[n]));return document.body.removeChild(t),void 0!==e&&e.length>0&&"none"!==e}(),i._test_div=null,i.param=function(e,t){return void 0!==e?e:t},i.regexEscape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},i.isSet=function(e){return void 0!==e},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"===n(e)&&null!=e&&!(e instanceof Array)},i.isArray=function(e){return"object"===n(e)&&e instanceof Array},i.isNumber=function(e,t){return"number"==typeof e&&(!i.param(t,!1)||e>0)},i.isString=function(e,t){return"string"==typeof e&&(!i.param(t,!1)||""!==e)},i.getAttributeString=function(e,t){var o=e.attr(t);return void 0===o||!1===o||""===o?"":o},i.indexOf=function(e,t,o){if(o=o||!1,t instanceof Array)for(var n=0;n<t.length;n++)if(o){if(t[n]===e)return n}else if(t[n]==e)return n;return-1},i.trim=function(e){return i.isString(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},i.getInlineStyle=function(e,t){var o=i.getAttributeString(e,"style");if(t&&o){var n=new RegExp("(^|;)\\s*"+i.regexEscape(t)+"\\s*:");if(o.match(n))return e.css(t)}return""},i.splitOutside=function(e,t,o,n){void 0===o&&(o=""),void 0===n&&(n=o),o instanceof Array||(o=[o]),n instanceof Array||(n=[n]);for(var i=[],s=t.split(e),r=!1,a=0,p=o[a],l=n[a],c=0;c<s.length;c++){for(var g=!1,_=0;_<o.length;_++){p=o[_],l=n[a];var m=p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),u=l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),d=s[c].match(new RegExp("["+m+"][^"+u+"]*")),f=s[c].match(new RegExp("[^"+m+"]*["+u+"]"));!1!==r?_===a&&(r+=s[c],f?(i.push(r),r=!1):r+=e,g=!0):d&&(r=s[c]+e,a=_<n.length?_:0,g=!0)}g||i.push(s[c])}return i},i.elementPaddingWidth=function(e,t){return e&&e.length?e.outerWidth(!!i.param(t,!1))-e.width():0},i.elementPaddingHeight=function(e,t){return e&&e.length?e.outerHeight(!!i.param(t,!1))-e.height():0},i.transition=function(e,t,n,s,r,a){t=i.param(t,{}),n=i.param(n,i._speeds._default),s=i.param(s,i._eases._default),a=!!i.isString(a,!0)&&a;var p,l=[],c=!1,g=!1,_=i._next_transition_id;if(i._next_transition_id++,i._support.transition_end&&n>25){for(p in t)if(t.hasOwnProperty(p)){l.push(p+" "+n+"ms "+s);var m=e.css(p),u=t[p],d=["width","height","top","right","bottom","left"];i.isString(m,!0)&&(m=m.trim()).match(/^[0-9]+(?:\.[0-9]+)?\s*.{0,4}$/)&&(m=parseFloat(m)),i.isString(u,!0)&&(u=u.trim()).match(/^[0-9]+(?:\.[0-9]+)?\s*.{0,4}$/)&&(u=parseFloat(u)),i.isNumber(m,!0)&&(m=Math.ceil(m*(i.indexOf(p,d)>-1?1:100))),i.isNumber(u,!0)&&(u=Math.ceil(u*(i.indexOf(p,d)>-1?1:100))),i.isNumber(m)&&i.isNumber(u)?(m-u>1||u-m>1)&&(c=!0):m!==u&&(c=!0)}for(var f=i.splitOutside(",",e.css("transition"),"(",")"),h=0;h<f.length;h++){var b=i.trim(f[h]),v=!1;if(b&&!b.match(/all 0(?:\.[0]+)?[^0-9]/)){for(p in t)if(t.hasOwnProperty(p)&&i.isString(p,!0)&&f[h].match(new RegExp(i.regexEscape(p)))){v=!0;break}v||(l.push(b),c=!0)}}var x=e.hasClass("popbox-animating");l.length&&c&&(e.off(".popbox_auto_transition_end"),i.transitionAddCallback(e,r,a),e.css("transition",l.join(", ")),e.css(t).addClass("popbox-animating"),e.data("popbox-transition-id",_),setTimeout((function(){var t=!1,s=function(){if(e.data("popbox-transition-id")===_){!1!==t&&(clearTimeout(t),t=!1),e.off(".popbox_auto_transition_end"),e.css("transition","").removeClass("popbox-animating");var n=e.data("popbox-transition-end-functions");if(n&&(n=o().extend({},n),e.data("popbox-transition-id",!1),i.clearTransition(e)),n)for(var s in n)if(n.hasOwnProperty(s))for(var r=0;r<n[s].length;r++)i.isFunction(n[s][r])&&n[s][r]()}};e.off(".popbox_auto_transition_end").on(i._support.transition_end+".popbox_auto_transition_end",(function(e){e.stopPropagation(),s()})),t=setTimeout((function(){t=!1,s()}),n+50)}),0),g=!0)}g||(e.css(t),x?i.transitionAddCallback(e,r,a):i.isFunction(r)&&setTimeout((function(){r()}),0))},i.transitionAddCallback=function(e,t,o){if(o=i.isString(o,!0)?o:"_default",e.length&&i.isFunction(t)){var n=e.data("popbox-transition-end-functions");n&&n[o]?n[o].push(t):n?n[o]=[t]:(n={})[o]=[t],e.data("popbox-transition-end-functions",n)}},i.clearTransition=function(e,t){if(t=!!i.isString(t,!0)&&t){var o=e.data("popbox-transition-end-functions");o&&o[t]&&(delete o[t],e.data("popbox-transition-end-functions",o))}else e.data("popbox-transition-end-functions",!1)},i.getTrueWidth=function(e){return e&&e.length?e.get(0).getBoundingClientRect().right-e.get(0).getBoundingClientRect().left:0},i.getTrueHeight=function(e){return e&&e.length?e.get(0).getBoundingClientRect().bottom-e.get(0).getBoundingClientRect().top:0},i.isAbsolutePositioned=function(e,t){if(["absolute","fixed"].indexOf(window.getComputedStyle(e.get(0)).position)>=0)return!0;for(var o=e;;){if(!(o=o.parent())||!o.length||t&&t.length&&o.get(0)===t.get(0))return!1;if(["absolute","fixed"].indexOf(window.getComputedStyle(o.get(0)).position)>=0)return!0}},i.offTouchClick=function(e){e.length&&e.off(".Popbox_touch_click")},i.onTouchClick=function(e,t,n,s){if(e.length){s&&e.on("click.Popbox_touch_click",(function(e){e.preventDefault()})),e.on("mousedown.Popbox_touch_click touchstart.Popbox_touch_click",t,(function(e){(e.originalEvent.touches||1===e.which)&&o()(this).off("mouseup.Popbox_touch_click touchend.Popbox_touch_click").on("mouseup.Popbox_touch_click touchend.Popbox_touch_click",(function(t){(e.originalEvent.touches||1===e.which)&&(s&&t.preventDefault(),i.isFunction(n)&&n.call(this,t))}))}))}},i.isAnyInstanceOpen=function(){var e=!1;for(var t in i._instances)if(i._instances.hasOwnProperty(t)){var o=i._instances[t];if(o&&o.isOpen&&o.isOpen()){e=!0;break}}return e},i.addHidePageScroll=function(e){if(!i.$html.hasClass("popbox-hide-page-scroll")){var t=i.$body.width();!1===i._last_html_overflow&&(i._last_html_overflow=i.getInlineStyle(i.$html,"overflow"));var o=i.$window.scrollTop();i.$html.css("overflow","hidden");var n=i.$body.width();e&&(!1===i._last_html_margin_right&&(i._last_html_margin_right=i.getInlineStyle(i.$html,"margin-right")),n>t&&i.$html.css("margin-right",n-t+"px")),i.$window.scrollTop(o),i.$html.addClass("popbox-hide-page-scroll")}},i.removeHidePageScroll=function(){if(i.$html.hasClass("popbox-hide-page-scroll")){var e=!1,t=!1;for(var o in i._instances)if(i._instances.hasOwnProperty(o)){var n=i._instances[o];n&&n.isOpen&&n.isOpen()&&"absolute"!==n.elements.$popbox.css("position")&&(e=n.settings.hide_page_scroll,t=n.settings.hide_page_scroll_space)}e||(!1!==i._last_html_overflow&&i.$html.css("overflow",i._last_html_overflow),i._last_html_overflow=!1),t||(!1!==i._last_html_margin_right&&i.$html.css("margin-right",i._last_html_margin_right),i._last_html_margin_right=!1),e||i.$html.removeClass("popbox-hide-page-scroll")}};var a=function(e){this.self=e};a.prototype.reset=function(){var e=this.self;e._private.triggerHook("reset"),e.trigger("reset"),!1!==e.properties.disable_background_click_timer&&clearTimeout(e.properties.disable_background_click_timer),e.properties={is_open:!1,is_loading:!1,is_changing_state:!1,disable_background_click:!1,disable_background_click_timer:!1,last_html_overflow:!1,last_html_margin_right:!1,instance_id:e.properties.instance_id,events:e.properties.events,cache:{images:{},interface_images_pending:0,content_images_pending:0,window_width:-1},mutation_observer:null},e.elements={$popbox:null,$popbox_loading:null,$popbox_popup:null,$popbox_empty:null,$popbox_wrapper:null,$popbox_container:null,$popbox_title:null,$popbox_close:null,$popbox_content:null,$popbox_overlay:e.elements.$popbox_overlay},e._private.triggerHook("after_reset"),e.trigger("after_reset")},a.prototype.createOverlay=function(){var e=this.self,t=e.settings.container?o()(e.settings.container):i.$body,n=t.children(".popbox-overlay");n.length?e.elements.$popbox_overlay=n:e.elements.$popbox_overlay=o()("<div/>",{class:"popbox-overlay",css:{display:"none",position:"fixed",top:"0",right:"0",bottom:"0",left:"0"}}).data("is_open",!1).appendTo(t),e.elements.$popbox_overlay.html(e.settings.overlay_text),e.elements.$popbox_overlay.off("click.popbox_overlay_close").on("click.popbox_overlay_close",(function(t){for(var o in t.preventDefault(),i._instances)i._instances.hasOwnProperty(o)&&i._instances[o]instanceof e.constructor&&i._instances[o].isOpen()&&i._instances[o].close();e._private.closeOverlay(!0)}))},a.prototype.destroyOverlay=function(){var e=this.self;i._instances.length<=0&&e.elements.$popbox_overlay&&(e.elements.$popbox_overlay.remove(),e.elements.$popbox_overlay=null)},a.prototype.openOverlay=function(){var e=this.self;e.elements.$popbox_overlay||e._private.createOverlay(),!1===e.elements.$popbox_overlay.data("is_open")&&(e.elements.$popbox_overlay.css({display:"block",opacity:"0"}),i.clearTransition(e.elements.$popbox_overlay),i.transition(e.elements.$popbox_overlay,{opacity:"1"},e._private.getOverlayAnimationSpeed("open"),e._private.getOverlayAnimationEase("open")),e.elements.$popbox_overlay.data("is_open",!0))},a.prototype.closeOverlay=function(e){var t=this.self;if(t.elements.$popbox_overlay){if(!e&&i.isAnyInstanceOpen())return;!0===t.elements.$popbox_overlay.data("is_open")?(i.clearTransition(t.elements.$popbox_overlay),i.transition(t.elements.$popbox_overlay,{opacity:"0"},t._private.getOverlayAnimationSpeed("close"),t._private.getOverlayAnimationEase("close"),(function(){t.elements.$popbox_overlay&&t.elements.$popbox_overlay.css({display:"none"}),t._private.destroyOverlay()})),t.elements.$popbox_overlay.data("is_open",!1)):t.elements.$popbox_overlay.hasClass("popbox-animating")||t._private.destroyOverlay()}},a.prototype.getAnimationStartProperties=function(e){var t=this.self;return i.isSet(t.animations[t.settings.animation])?t.animations[t.settings.animation][e][0]:t.animations.fade[e][0]},a.prototype.getAnimationEndProperties=function(e){var t=this.self;return i.isSet(t.animations[t.settings.animation])?t.animations[t.settings.animation][e][t.animations[t.settings.animation][e].length-1]:t.animations.fade[e][t.animations.fade[e].length-1]},a.prototype.getAnimationSpeed=function(e){var t=this.self;return t.settings[e+"_animation_speed"]||t.settings.animation_speed||i._speeds._default},a.prototype.getAnimationEase=function(e){var t=this.self;return t.settings[e+"_animation_ease"]||t.settings.animation_ease||i._eases._default},a.prototype.getOverlayAnimationSpeed=function(e){var t=this.self;return!0===t.settings[e+"_overlay_animation_speed"]?t._private.getAnimationSpeed(e):t.settings[e+"_overlay_animation_speed"]||t.settings.overlay_animation_speed||t._private.getAnimationSpeed(e)},a.prototype.getOverlayAnimationEase=function(e){var t=this.self;return!0===t.settings[e+"_overlay_animation_ease"]?t._private.getAnimationEase(e):t.settings[e+"_overlay_animation_ease"]||t.settings.overlay_animation_ease||t._private.getAnimationEase(e)},a.prototype.checkImagesLoaded=function(){var e=this.self;if(e.isCreated()){e.properties.cache.content_images_pending=0,e.properties.cache.interface_images_pending=0,e.elements.$popbox.find("img").each((function(){var t=this,n=o()(this);t.src&&(t.complete&&i.isNumber(t.naturalWidth,!1)||4===t.readyState||"complete"===t.readyState||(e.properties.cache.images[t.src]={origin:t,$origin:n,proxy:!1,loaded:!1,type:n.closest(e.elements.$popbox_content).length>0?"content":"interface"}))}));var t=function(t){"content"===t?(e.properties.cache.content_images_pending--,e.properties.cache.content_images_pending<=0&&(e.properties.cache.content_images_pending=0,e.isChangingState()&&e.elements.$popbox_popup.hasClass("popbox-animating")?i.transitionAddCallback(e.elements.$popbox_popup,(function(){e.adjust(!0)})):e.adjust(!0))):(e.properties.cache.interface_images_pending--,e.properties.cache.interface_images_pending<=0&&(e.properties.cache.interface_images_pending=0))};for(var n in e.properties.cache.images)e.properties.cache.images.hasOwnProperty(n)&&(e.properties.cache.images[n].proxy?e.properties.cache.images[n].loaded||("content"===e.properties.cache.images[n].type?e.properties.cache.content_images_pending++:e.properties.cache.interface_images_pending++):function(o){var n=new Image;"content"===e.properties.cache.images[o].type?e.properties.cache.content_images_pending++:e.properties.cache.interface_images_pending++,e.properties.cache.images[o].proxy=n,n.onload=function(){e.properties.cache.images[o].loaded||(e.properties.cache.images[o].loaded=!0,t(e.properties.cache.images[o].type),e._private.triggerHook("image_load",[o]),e.trigger("image_load",!1,[o]))},n.onerror=function(){e.properties.cache.images[o].loaded||(e.properties.cache.images[o].loaded=!0,t(e.properties.cache.images[o].type),e._private.triggerHook("image_error",[o]),e.trigger("image_error",!1,[o]))},n.src=o}(n));if(0===e.properties.cache.content_images_pending&&0===e.properties.cache.interface_images_pending)return!0}return!1},a.prototype.applySettings=function(){var e=this.self,t=i.$window.width(),n=[],s=o().extend(!0,{},e.base_settings);if(t!==e.properties.cache.window_width){if("object"===r(e.base_settings.responsive))for(var a in e.base_settings.responsive)e.base_settings.responsive.hasOwnProperty(a)&&n.push(a);if(n.length){n.sort((function(e,t){return e-t}));for(var p=n.length;p>=0;p--)if(t>parseInt(n[p],10)){o().extend(!0,s,e.base_settings.responsive[n[p]]);break}e.settings=s,e._private.applyDomSettings()}else e.settings=s;e.properties.cache.window_width=t}else e.settings=s},a.prototype.applyDomSettings=function(){var e=this.self;if(e.isCreated()){e._private.triggerHook("update_dom"),e.trigger("update_dom"),e.elements.$popbox.attr("class","").addClass("popbox"),e.settings.loading_text!==e.elements.$popbox_loading.html()&&e.elements.$popbox_loading.html(e.settings.loading_text),e.elements.$popbox_close.html(e.settings.close_text),e.elements.$popbox_overlay.html(e.settings.overlay_text),e.elements.$popbox_title.html(e.settings.title),i.isFunction(e.settings.content.appendTo)?(e.elements.$popbox_content.html(""),e.settings.content.appendTo(e.elements.$popbox_content)):e.elements.$popbox_content.html(e.settings.content),i.isString(e.settings.add_class,!0)&&e.elements.$popbox.addClass(e.settings.add_class),e.settings.fit?e.elements.$popbox.addClass("popbox-fit"):e.elements.$popbox.removeClass("popbox-fit"),!1===e.settings.close_text?e.elements.$popbox_close.css("display","none"):e.elements.$popbox_close.css("display","block"),!1===e.settings.title?e.elements.$popbox_title.css("display","none"):e.elements.$popbox_title.css("display","block"),i.isNumber(e.settings.z_index,!0)&&(e.elements.$popbox_overlay.css("z-index",e.settings.z_index),e.elements.$popbox.css("z-index",e.settings.z_index+1),e.elements.$popbox_popup.css("z-index",e.settings.z_index+2));var t={mobile:navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g),ios:navigator.userAgent.match(/(iPad|iPhone|iPod)/g),android:navigator.userAgent.match(/(Android)/g)};!0===e.settings.absolute||i.isString(e.settings.absolute)&&t[e.settings.absolute]?e.elements.$popbox.css({position:"absolute","overflow-y":"visible","overflow-x":"visible"}):e.elements.$popbox.css({position:"fixed","overflow-y":"scroll","overflow-x":"hidden"}),e._private.triggerHook("after_update_dom"),e.trigger("after_update_dom")}},a.prototype.triggerHook=function(e,t){var o=this.self;if(t=i.isArray(t)?t:[],i.isPlainObject(o.hooks)&&i.isArray(o.hooks[e]))for(var n=0;n<o.hooks[e].length;n++)i.isFunction(o.hooks[e][n])&&o.hooks[e][n].apply(o,t)},a.prototype.createMutationObserver=function(){var e=this.self;if(e.settings.mutation_observer&&e.isCreated()){e.properties.mutation_observer&&this.destroyMutationObserver();var t={popup:"",content:""},o=!1;e.properties.mutation_observer=new MutationObserver((function(n){return o&&clearTimeout(o),e.isOpen()?t.popup&&t.content&&e.elements.$popbox_popup.attr("style")===t.popup&&e.elements.$popbox_content.attr("style")===t.content?(o=!1,t.popup="",void(t.content="")):void(o=setTimeout((function(){e.isOpen()&&!e.isLoading()&&(t.popup=e.elements.$popbox_popup.attr("style"),t.content=e.elements.$popbox_content.attr("style"),e.adjust(!1)),o=!1}),e.settings.mutation_observer_delay)):(o=!1,t.popup="",void(t.content=""))})),e.properties.mutation_observer.observe(e.elements.$popbox_content.get(0),e.settings.mutation_observer_config)}else this.destroyMutationObserver()},a.prototype.destroyMutationObserver=function(){var e=this.self;e.properties.mutation_observer&&(e.properties.mutation_observer.disconnect(),e.properties.mutation_observer=null)};var p={width:!1,height:!1,min_width:100,min_height:100,max_width:!1,max_height:!1,container:!1,animation:"fade",animation_speed:i._speeds._default,animation_ease:i._eases._default,open_animation:null,open_animation_speed:null,open_animation_ease:null,close_animation:null,close_animation_speed:null,close_animation_ease:null,overlay_animation_speed:null,overlay_animation_ease:null,open_overlay_animation_speed:null,open_overlay_animation_ease:null,close_overlay_animation_speed:null,close_overlay_animation_ease:null,content:"",title:!1,close_text:"X",overlay_text:"",loading_text:"Loading",hide_page_scroll:!0,hide_page_scroll_space:!0,content_additional_offset:!1,absolute:"mobile",add_class:"",fit:!1,cache:!1,wait_for_images:!0,width_margin:.1,height_margin:.08,z_index:99900,mode:!1,open:!1,after_open:!1,close:!1,after_close:!1,responsive:{},mutation_observer:!1,mutation_observer_delay:400,mutation_observer_config:{childList:!0,subtree:!0,attributes:!0,characterData:!0}},l=function(e){var t=this;t._private=new a(t),t._private.triggerHook("initialize",[e]),t.base_settings=o().extend(!0,{},t.default_settings,i.param(e,{})),t.properties={instance_id:i._next_instance_id,events:{},cache:{}},t.elements={$popbox_overlay:null},t._private.applySettings(),t._private.reset(),i._next_instance_id++,t.trigger("initialize",!1,[e]),t._private.triggerHook("after_initialize",[e]),t.trigger("after_initialize",!1,[e])};l.prototype.version="3.1.7",l.prototype.plugins={},l.prototype.default_settings=p,l.prototype._static=i,l.prototype.animations={fade:{open:[{opacity:"0"},{opacity:"1"}],close:[{opacity:"1"},{opacity:"0"}]}},l.prototype.hooks={},l.prototype.addHook=function(e,t){i.isArray(l.prototype.hooks[e])||(l.prototype.hooks[e]=[]),l.prototype.hooks[e].push(t)},l.prototype.create=function(){var e=this;e.destroy(),e._private.triggerHook("create"),e._private.createOverlay();var t=e.settings.container?o()(e.settings.container):i.$body;e.elements.$popbox=o()("<div/>",{class:"popbox",css:{display:"none",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px","overflow-y":"scroll","overflow-x":"hidden"}}),e.elements.$popbox_empty=o()("<div/>",{class:"popbox-empty",css:{display:"block",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}}).appendTo(e.elements.$popbox),e.elements.$popbox_popup=o()("<div/>",{class:"popbox-popup",css:{display:"none",position:"absolute",top:"50%",left:"50%",bottom:"auto",right:"auto",width:"0px",height:"0px"}}).appendTo(e.elements.$popbox),e.elements.$popbox_loading=o()("<div/>",{class:"popbox-loading",css:{display:"none"}}).appendTo(e.elements.$popbox_popup),e.elements.$popbox_wrapper=o()("<div/>",{class:"popbox-wrapper"}).appendTo(e.elements.$popbox_popup),e.elements.$popbox_container=o()("<div/>",{class:"popbox-container"}).appendTo(e.elements.$popbox_wrapper),e.elements.$popbox_title=o()("<div/>",{class:"popbox-title"}).appendTo(e.elements.$popbox_container),e.elements.$popbox_content=o()("<div/>",{class:"popbox-content"}).appendTo(e.elements.$popbox_container),e.elements.$popbox_close=o()("<a/>",{class:"popbox-close",href:"javascript:void(0);"}).appendTo(e.elements.$popbox_popup),e._private.applyDomSettings();var n=i._event_namespace+"Close";e.elements.$popbox.off("click."+n).on("click."+n,".popbox-close,.close-popbox",(function(t){t.preventDefault(),e.close()}));var s=i._event_namespace+"ComplexCloseStart",r=i._event_namespace+"ComplexClose";e.elements.$popbox.on("mousedown."+s+" touchstart."+s,(function(t){var n=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageX:t.pageX,i=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageY:t.pageY;(t.originalEvent.touches||1===t.which)&&0===o()(t.target).closest(".popbox-popup").length&&n<e.elements.$popbox_empty.width()&&(e.elements.$popbox.off("."+r),e.elements.$popbox.on("mouseup."+r+" touchend."+r,(function(n){if((n.originalEvent.touches||1===n.which)&&(e.elements.$popbox.off("."+r),!e.properties.disable_background_click&&t.target===n.target&&0===o()(n.target).closest(".popbox-popup").length))return n.preventDefault(),e.close(),!1})),e.elements.$popbox.on("mousemove."+r+" touchmove."+r,(function(t){var o=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageY:t.pageY;(o<n-5||o>n+5||s<i-5||s>i+5)&&e.elements.$popbox.off("."+r)})),e.elements.$popbox.on("scroll."+r,(function(){e.elements.$popbox.off("."+r)})))})),e.elements.$popbox.appendTo(t),i._instances[e.properties.instance_id]=e,i._instances.length++,e._private.createMutationObserver(),e._private.triggerHook("after_create")},l.prototype.destroy=function(){var e=this;e.elements.$popbox&&(e._private.destroyMutationObserver(),e._private.triggerHook("destroy"),e.elements.$popbox.remove(),e.elements.$popbox=null,i.isSet(i._instances[e.properties.instance_id])&&(delete i._instances[e.properties.instance_id],i._instances.length--),e._private.closeOverlay(),e._private.reset(),e._private.triggerHook("after_destroy"))},l.prototype.update=function(e,t){var n=this;t=i.param(t,!0),o().extend(!0,n.base_settings,i.param(e,{})),n._private.applySettings(),n.isCreated()&&(n.isOpen()?t?n.showLoading((function(){n._private.applyDomSettings(),n.adjust(!0)})):(n._private.applyDomSettings(),n.adjust(!1)):n._private.applyDomSettings())},l.prototype.open=function(){var e=this;e.isOpen()||(e.elements.$popbox?e._private.applyDomSettings():e.create(),e._private.triggerHook("open"),e.trigger("open"),"absolute"===e.elements.$popbox.css("position")?e.elements.$popbox.css("top",i.$window.scrollTop()+"px"):e.settings.hide_page_scroll&&i.addHidePageScroll(e.settings.hide_page_scroll_space),e._private.openOverlay(),e.elements.$popbox_popup.css({display:"block","box-sizing":"content-box"}),e.elements.$popbox.css({display:"block","box-sizing":"content-box"}),e.elements.$popbox_popup.css({visibility:"visible","box-sizing":"content-box"}),e.properties.is_loading?e.showLoading():e.showContent(),e.adjust(!1),e.elements.$popbox_popup.css(e._private.getAnimationStartProperties("open")),i.clearTransition(e.elements.$popbox_popup),e.properties.is_changing_state=!0,i.transition(e.elements.$popbox_popup,e._private.getAnimationEndProperties("open"),e._private.getAnimationSpeed("open"),e._private.getAnimationEase("open"),(function(){e.properties.is_changing_state=!1})),e.properties.is_open=!0,e.elements.$popbox_popup.hasClass("popbox-animating")&&(e.properties.disable_background_click=!0,e.properties.disable_background_click_timer=setTimeout((function(){e.properties.disable_background_click=!1,e.properties.disable_background_click_timer=!1,e._private.triggerHook("ready"),e.trigger("ready")}),e._private.getAnimationSpeed("open")+200)),e._private.triggerHook("after_open"),e.trigger("after_open"),e.elements.$popbox_popup.hasClass("popbox-animating")||(e._private.triggerHook("ready"),e.trigger("ready")))},l.prototype.close=function(e){var t=this;if(t.isOpen()){for(var o in t._private.triggerHook("close"),t.trigger("close"),t.properties.is_open=!1,t.elements)t.elements.hasOwnProperty(o)&&t.elements[o].length&&i.clearTransition(t.elements[o]);t.elements.$popbox_popup.css(t._private.getAnimationStartProperties("close")),t.properties.is_changing_state=!0,i.transition(t.elements.$popbox_popup,t._private.getAnimationEndProperties("close"),t._private.getAnimationSpeed("close"),t._private.getAnimationEase("close"),(function(){t.properties.is_changing_state=!1,t.elements.$popbox.css({display:"none"}),i.removeHidePageScroll(),e||!t.settings.cache?t.destroy():(t.elements.$popbox_popup.css(t._private.getAnimationEndProperties("open")),t.properties.disable_background_click=!1,!1!==t.properties.disable_background_click_timer&&(clearTimeout(t.properties.disable_background_click_timer),t.properties.disable_background_click_timer=!1)),t._private.triggerHook("after_close"),t.trigger("after_close")})),t._private.closeOverlay()}},l.prototype.adjust=function(e){var t=this;if(e=i.param(e,!0),t.isCreated()){var n=function(e,n){e=i.param(e,!1),n=i.param(n,!1),t._private.triggerHook("adjust"),t.trigger("adjust");var s,r,a,p,l=t.elements.$popbox_empty.width(),c=i.$window.height(),g=i.elementPaddingWidth(t.elements.$popbox_popup),_=i.elementPaddingHeight(t.elements.$popbox_popup),m=i.elementPaddingWidth(t.elements.$popbox_content,!0),u=i.elementPaddingHeight(t.elements.$popbox_content,!0),d=(t.settings.width_margin>0?l-l*(2*t.settings.width_margin):l)-g,f=(t.settings.height_margin>0?c-c*(2*t.settings.height_margin):c)-_,h=0,b=0,v=i.isNumber(t.settings.width)?t.settings.width+"px":"auto",x=i.isNumber(t.settings.height)?t.settings.height+"px":"auto",y=f;i.isNumber(t.settings.max_width,!0)&&d>t.settings.max_width&&(d=t.settings.max_width),i.isNumber(t.settings.max_height,!0)&&f>t.settings.max_height&&(f=t.settings.max_height),i.isNumber(t.settings.min_width,!0)&&h<t.settings.min_width&&(h=t.settings.min_width),i.isNumber(t.settings.min_height,!0)&&b<t.settings.min_height&&(b=t.settings.min_height),t.elements.$popbox_content.css({height:"","overflow-y":"","box-sizing":"content-box"}),t.elements.$popbox_wrapper.css({position:"relative",top:"0px",left:"0px",width:t.settings.fit?"99999px":d+"px",height:t.settings.fit?"99999px":"1px",overflow:"hidden","box-sizing":"content-box"}),t.elements.$popbox_container.css({position:"absolute",top:"0px",left:"0px",width:v,height:x,"min-width":!0===t.settings.min_width?"100%":h+"px","min-height":!0===t.settings.min_height?"100%":b+"px","max-width":"100%","box-sizing":"content-box"});var $=t.elements.$popbox_content.find(".popbox-fit-image");$.length||($=!1,t.elements.$popbox_content.find(".popbox-fit-ignore-images").length||t.elements.$popbox_content.find("img").each((function(){var e=o()(this);if(!e.hasClass("popbox-fit-ignore-image")&&!i.isAbsolutePositioned(e,t.elements.$popbox_content))return $=e,!1}))),$&&$.css("width",""),s=Math.ceil(100*i.getTrueWidth(t.elements.$popbox_container))/100,r=Math.ceil(100*i.getTrueHeight(t.elements.$popbox_container))/100;var w=function(e){e=e||!1;var n=r-u,s=t.settings.content_additional_offset;if(n-=t.elements.$popbox_content.offset().top-t.elements.$popbox_container.offset().top,i.isNumber(s)?n+=s:s=[s],s instanceof Array)for(var a=0;a<s.length;a++)if(i.isString(s[a],!0)){var p=0;o()(s[a]).each((function(){var e=o()(this),n=e.offset().top+e.outerHeight(!0)-(t.elements.$popbox_content.offset().top+t.elements.$popbox_content.outerHeight(!0));n>0&&n>p&&(p=n)}))}t.elements.$popbox_content.css({height:e?Math.floor(n)+"px":n+"px","overflow-x":"hidden","overflow-y":e?"scroll":"hidden"})};if(t.settings.fit){var k=0,O=function(){var e=r;if($&&(e=i.getTrueHeight($)),k=r-e,!(s<=d&&r<=f)){var t=k+u,o=d-m;o<1&&(o=1);var n=f-t;n<1&&(n=1);var a=s-m;a<1&&(a=1);var p=r-t;p<1&&(p=1),p/a>n/o?(s=a*(n/p)+m,r=f):(r=p*(o/a)+t,s=d)}};O(),k>0&&function(){for(var e,o,n,a,p,l,c=0,g=!1,_=0,u=0,f=0;k>0&&c<10;){if(c++,e=Math.ceil(100*i.getTrueHeight(t.elements.$popbox_container))/100,g&&Math.round(e)<=Math.round(r+1)&&$.height()/r>.5){o=r-e,(n=$.height())<1&&(n=1),(a=$.width()*((n+o)/n))<1&&(a=1),$.css("width",a+"px");break}if($&&($.css("width",""),1===c&&(s=$.width()+m)<h&&(s=h)),t.elements.$popbox_container.css({width:s+"px"}),e=Math.ceil(100*i.getTrueHeight(t.elements.$popbox_container))/100,Math.round(e)<=Math.round(r+1))break;if(g||s<2||$&&$.height()/r<.6){o=e-r,(n=$.height())<1&&(n=1),(a=$.width()*((n-o)/n))<1&&(a=1),$.css("width",a+"px"),p=d-d*((10-c)/10),t.elements.$popbox_container.css({width:p+"px"}),s=p,g=!0;var b=$.height();if(_!==b&&(l=c,_=b,f=r,u=s),10===c&&l<10){s=u,r=f;break}}else{if(s<0)break;r=e}O()}}(),"round"===t.settings.fit&&(s=Math.round(s),r=Math.round(r));var S=i.getTrueWidth(t.elements.$popbox_loading),T=i.getTrueHeight(t.elements.$popbox_loading);s<S&&(s=S),r<T&&(r=T),w(!1)}else(!0===t.settings.max_height||i.isNumber(t.settings.max_height,!0))&&r>f?(r=f,w(!0)):w(!1);var A=function(){t.elements.$popbox_wrapper.css({position:"",top:"",left:"",width:"",height:"",overflow:""}),t.elements.$popbox_container.css({position:"",top:"",left:"",width:"",height:"","min-width":"","min-height":"","max-width":""})};p=(l-(s+g))/2,a=(c-(r+_))/2,r>y&&(a=t.settings.height_margin>0?c*t.settings.height_margin:0),e?(i.clearTransition(t.elements.$popbox_popup,"adjust"),i.transition(t.elements.$popbox_empty,{height:Math.floor(r+_+2*a-1)+"px"},i._speeds.fast,i._eases.easeInOutQuad),i.transition(t.elements.$popbox_popup,{width:s+"px",height:r+"px",top:a+"px",left:p+"px"},i._speeds.fast,i._eases.easeInOutQuad,(function(){A(),n&&t.showContent(),t._private.triggerHook("after_adjust"),t.trigger("after_adjust")}),"adjust")):(A(),t.elements.$popbox_popup.css({width:s+"px",height:r+"px",top:a+"px",left:p+"px"}),t.elements.$popbox_empty.css({height:Math.floor(r+_+2*a-1)+"px"}),n&&t.showContent(),t._private.triggerHook("after_adjust"),t.trigger("after_adjust"))};t._private.checkImagesLoaded(),t.settings.wait_for_images&&t.properties.cache.content_images_pending>0?t.showLoading((function(){e||n(e,!1)})):e?t.showLoading((function(){n(e,!0)})):n(!1,t.properties.is_open)}},l.prototype.showLoading=function(e){var t=this;if(t.isCreated())if(t.isOpen()){if(t.isLoading())return void(i.isFunction(e)&&e());i.clearTransition(t.elements.$popbox_loading),i.clearTransition(t.elements.$popbox_wrapper),i.transition(t.elements.$popbox_wrapper,{opacity:"0"},i._speeds.fast,"linear",(function(){t.elements.$popbox_wrapper.css({visibility:"hidden"}),t.elements.$popbox_loading.css({opacity:"0",display:"block"}),i.transition(t.elements.$popbox_loading,{opacity:"1"},i._speeds.fast,"linear",(function(){i.isFunction(e)&&e()}))}))}else t.elements.$popbox_wrapper.css({opacity:"0",visibility:"hidden"}),t.elements.$popbox_loading.css({opacity:"1",display:"block"}),i.isFunction(e)&&e();else i.isFunction(e)&&e();t.properties.is_loading=!0},l.prototype.showContent=function(e){var t=this;if(t.isCreated())if(t.isOpen()){if(!t.isLoading())return void(i.isFunction(e)&&e());i.clearTransition(t.elements.$popbox_loading),i.clearTransition(t.elements.$popbox_wrapper),i.transition(t.elements.$popbox_loading,{opacity:"0"},i._speeds.fast,"linear",(function(){t.elements.$popbox_loading.css({display:"none"}),t.elements.$popbox_wrapper.css({opacity:"0",visibility:"visible"}),i.transition(t.elements.$popbox_wrapper,{opacity:"1"},i._speeds.fast,"linear",(function(){i.isFunction(e)&&e()}))}))}else t.elements.$popbox_loading.css({display:"none",opacity:"0"}),t.elements.$popbox_wrapper.css({opacity:"1",visibility:"visible"}),i.isFunction(e)&&e();else i.isFunction(e)&&e();t.properties.is_loading=!1},l.prototype.isLoading=function(){return this.properties.is_loading},l.prototype.isOpen=function(){return this.properties.is_open},l.prototype.isChangingState=function(){return this.properties.is_changing_state},l.prototype.isCreated=function(){return!!this.elements.$popbox},l.prototype.on=function(e,t){var o=this,n=e.split(".",2);if(n.length){var s=n[0],r=n[1]?n[1]:"_default";i.isPlainObject(o.properties.events[s])||(o.properties.events[s]={}),i.isArray(o.properties.events[s][r])||(o.properties.events[s][r]=[]),o.properties.events[s][r].push(t)}},l.prototype.off=function(e,t){var o=this,n=e.split(".",2);if(n.length){var s=n[0],r=!!n[1]&&n[1];if(i.isPlainObject(o.properties.events[s]))for(var a in o.properties.events[s])if(o.properties.events[s].hasOwnProperty(a)&&i.isArray(o.properties.events[s][a])&&(!1===r||r===a))if(i.isFunction(t))for(var p=0;p<o.properties.events[s][a].length;p++)o.properties.events[s][a][p]===t&&(o.properties.events[s][a].splice(p,1),p--);else o.properties.events[s][a]=[]}},l.prototype.trigger=function(e,t,o){var n=this;o=i.isArray(o)?o:[];var s=e.split(".",2);if(s.length){var r=s[0],a=!!s[1]&&s[1];if(i.isFunction(n.settings[r])&&n.settings[r](),i.isPlainObject(n.properties.events[r]))for(var p in n.properties.events[r])if(n.properties.events[r].hasOwnProperty(p)&&i.isArray(n.properties.events[r][p])&&(!1===a||a===p))for(var l=0;l<n.properties.events[r][p].length;l++)!i.isFunction(n.properties.events[r][p][l])||i.isFunction(t)&&n.properties.events[r][p][l]!==t||n.properties.events[r][p][l].apply(n,o)}};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g;g=l,i.$window.off("resize."+i._event_namespace).on("resize."+i._event_namespace,(function(){if(i._instances.length>0)for(var e in i._instances)i._instances.hasOwnProperty(e)&&i._instances[e]instanceof g&&(i._instances[e]._private.applySettings(),i._instances[e].isOpen()&&i._instances[e].adjust(!1))})),function(e){o().extend(!0,e.prototype.animations,{slide_up:{open:[{transform:"translateY(2000px)"},{transform:"translateY(0px)"}],close:[{transform:"translateY(0px)"},{transform:"translateY(-2000px)"}]},slide_down:{open:[{transform:"translateY(-2000px)"},{transform:"translateY(0px)"}],close:[{transform:"translateY(0px)"},{transform:"translateY(2000px)"}]},float_up:{open:[{opacity:"0",transform:"translateY(100px)"},{opacity:"1",transform:"translateY(0px)"}],close:[{opacity:"1",transform:"translateY(0px)"},{opacity:"0",transform:"translateY(-100px)"}]},float_down:{open:[{opacity:"0",transform:"translateY(-100px)"},{opacity:"1",transform:"translateY(0px)"}],close:[{opacity:"1",transform:"translateY(0px)"},{opacity:"0",transform:"translateY(100px)"}]},zoom:{open:[{opacity:"0",transform:"scale(0.5)"},{opacity:"1",transform:"scale(1)"}],close:[{opacity:"1",transform:"scale(1)"},{opacity:"0",transform:"scale(0.5)"}]},fold:{open:[{opacity:"0",transform:"rotateX(5deg) scale(0.9)"},{opacity:"1",transform:"rotateX(0deg) scale(1)"}],close:[{opacity:"1",transform:"rotateX(0deg) scale(1)"},{opacity:"0",transform:"rotateX(5deg) scale(0.9)"}]}}),e.prototype.plugins.animations="3.1.7"}(l),function(e){var t=e.prototype._static,n=function(){};t._gallery_event_namespace="PopboxGallery",o().extend(!0,e.prototype.default_settings,{gallery:{selector:"",clickable:!0,swipeable:!0,error:'<div class="popbox-gallery-error">There was an error loading the image.</div>',next:"<span>&#x25B6;</span>",prev:"<span>&#x25C0;</span>",items:[]}}),n.prototype.attachSwipeEvents=function(){var e=this.self,n=this.self.popbox;if(n.elements.$popbox&&n.settings.gallery.swipeable){var i=t._gallery_event_namespace+"Swipe",s=!1,r=!1,a=!1,p=0,l=0,c=0,g=0,_=[],m=function(e,t,o){return a=!1,!!(r=n.elements.$popbox_popup.find(".popbox-gallery-image")).length&&(r.data("movement")||r.data("movement",0),c=p=e,g=l=t,u(e,t,o),!0)},u=function(e,i,s){_.push({distance:e-c,time:(new Date).getTime()}),_.length>10&&_.shift(),c=e,g=i;var m=Math.abs(c-p)-8,u=Math.abs(g-l)-8;if(!a){if(!(m>0&&m>u))return void((m>0||u>0)&&u>m&&d(s));a=!0,o()("<div/>").css({position:"absolute",top:"0",left:"0",right:"0",bottom:"0","z-index":n.settings.z_index+50}).addClass("popbox-swipe-shield").appendTo(n.elements.$popbox_popup),d(s)}t._support.transform3d?r.css("transform","translate3d("+(c-p+r.data("movement"))+"px,0px,0px"):r.css("transform","translate("+(c-p+r.data("movement"))+"px,0px")},d=function(o){s=!1,t.$document.off("touchmove."+i),t.$document.off("touchend."+i),t.$document.off("mousemove."+i),t.$document.off("mouseup."+i);var l=c-p+r.data("movement");if(r.data("movement",l),a&&(o.stopImmediatePropagation(),o.preventDefault(),c>p?e.prev():c<p&&e.next()),n.elements.$popbox_popup.find(".popbox-swipe-shield").remove(),a&&_.length){for(var g=0,m=0,u=_[_.length-1].time,d=0,f=_.length-1;f>=0;f--){if(d){if(1===d&&_[f].distance<=0||-1===d&&_[f].distance>=0){m=_[f].time;break}}else _[f].distance>0?d=1:_[f].distance<0&&(d=-1);g+=_[f].distance,m=_[f].time}if(m>0&&m!==u){var h=g/(u-m);r.css("transition","ease-in 300ms transform"),t._support.transform3d?r.css("transform","translate3d("+(l+300*h)+"px,0px,0px"):r.css("transform","translate("+(l+300*h)+"px,0px")}}else r.css("transform","translate3d(0px,0px,0px");return!a};n.elements.$popbox.off("dragstart."+i).on("dragstart."+i,".popbox-popup",(function(e){e.preventDefault()})),n.elements.$popbox.off("touchstart."+i).on("touchstart."+i,".popbox-popup",(function(e){s=!0,m(e.originalEvent.touches[0].pageX,e.originalEvent.touches[0].pageY,e)?(t.$document.off("touchmove."+i).on("touchmove."+i,(function(e){u(e.originalEvent.touches[0].pageX,e.originalEvent.touches[0].pageY,e)})),t.$document.off("touchend."+i).on("touchend."+i,(function(e){return d(e)}))):s=!1})),n.elements.$popbox.off("mousedown."+i).on("mousedown."+i,".popbox-popup",(function(e){s||1!==e.which||m(e.pageX,e.pageY,e)&&(t.$document.off("mousemove."+i).on("mousemove."+i,(function(e){u(e.pageX,e.pageY,e)})),t.$document.off("mouseup."+i).on("mouseup."+i,(function(e){if(1===e.which)return d(e)})))})),n.elements.$popbox.off("click."+i).on("click."+i,".popbox-popup",(function(e){if(a)return e.stopImmediatePropagation(),e.preventDefault(),!1}))}},n.prototype.detachSwipeEvents=function(){this.self;var e=this.self.popbox;if(e.elements.$popbox){var o=t._gallery_event_namespace+"Swipe";e.elements.$popbox.off("dragstart."+o),e.elements.$popbox.off("touchstart."+o),e.elements.$popbox.off("mousedown."+o),e.elements.$popbox.off("click."+o)}},n.prototype.attachNavEvents=function(){var e=this.self,o=this.self.popbox;if(o.elements.$popbox){var n=t._gallery_event_namespace+"Nav";o.elements.$popbox.off("click."+n),o.elements.$popbox.on("click."+n,".popbox-gallery-next",(function(t){t.preventDefault(),e.next()})),o.elements.$popbox.on("click."+n,".popbox-gallery-prev",(function(t){t.preventDefault(),e.prev()}))}};var i=function(e){var t=this;t.popbox=e,t._private=new n,t._private.self=t};i.prototype.refreshItems=function(){var e=this,n=this.popbox;if(t.isArray(n.settings.gallery.items)&&n.settings.gallery.items.length>0)for(var i=0;i<n.settings.gallery.items.length;i++)n.properties.gallery.items.push(n.settings.gallery.items[i]);if(n.settings.gallery.selector){var s=o()(n.settings.gallery.selector);s.each((function(){var e=o()(this),i=e.data("url"),s=e.attr("href"),r=e.attr("src"),a=!1;i?a=i:s?a=s:r?a=r:(e.find("a[href]").each((function(){var e=o()(this).attr("href");e&&!e.match(/^#/)&&t.indexOf(e,n.properties.gallery.items,!0)<0&&n.properties.gallery.items.push(e)})),e.find("img[src]").each((function(){var e=o()(this).attr("src");e&&t.indexOf(e,n.properties.gallery.items,!0)<0&&n.properties.gallery.items.push(e)}))),a&&t.indexOf(a,n.properties.gallery.items,!0)<0&&n.properties.gallery.items.push(a)})),n.settings.gallery.clickable&&s.off("click.popbox_gallery_open").on("click.popbox_gallery_open",(function(i){i.preventDefault();var s=o()(this),r=s.data("url"),a=s.attr("href"),p=s.attr("src");if(e.refreshItems(),r)e.goTo(t.indexOf(r,n.properties.gallery.items,!0));else if(a)e.goTo(t.indexOf(a,n.properties.gallery.items,!0));else if(p)e.goTo(t.indexOf(p,n.properties.gallery.items,!0));else{var l=s.find("a[href]:first").attr("href"),c=s.find("img[src]:first").attr("src");l&&!l.match(/^#/)?e.goTo(t.indexOf(l,n.properties.gallery.items,!0)):c&&e.goTo(t.indexOf(c,n.properties.gallery.items,!0))}n.open()}))}},i.prototype.addItem=function(e){this.addItems([e])},i.prototype.removeItem=function(e){this.removeItems([e])},i.prototype.addItems=function(e){var o=this.popbox;if(e){t.isArray(o.base_settings.gallery.items)||(o.base_settings.gallery.items=[]),t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)o.base_settings.gallery.items.push(e[n]);o._private.applySettings()}},i.prototype.removeItems=function(e){var o=this.popbox;if(e&&t.isArray(o.base_settings.gallery.items)){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=t.indexOf(e[n],o.base_settings.gallery.items);i>=0&&o.base_settings.gallery.items.splice(i,1)}o._private.applySettings()}},i.prototype.goTo=function(e){var o=this.popbox;o.properties.gallery.items.length>0&&(o.trigger("gallery_change"),(e=t.isNumber(e)?e:o.properties.gallery.current_index)>o.properties.gallery.items.length-1?e=0:e<0&&(e=o.properties.gallery.items.length>0?o.properties.gallery.items.length-1:0),o.properties.gallery.current_index=e,o.update({content:'<div class="popbox-gallery-container" style="overflow:hidden;"><div class="popbox-gallery-image"><img src="'+o.properties.gallery.items[o.properties.gallery.current_index]+'" /></div></div>'},!0),o.on("adjust.gallery_after_change",(function(){o.off("adjust.gallery_after_change"),o.trigger("gallery_after_change")})))},i.prototype.next=function(){var e=this.popbox;this.goTo(e.properties.gallery.current_index+1)},i.prototype.prev=function(){var e=this.popbox;this.goTo(e.properties.gallery.current_index-1)},e.prototype.gallery=i,e.prototype.addHook("initialize",(function(){this.gallery=new i(this)})),e.prototype.addHook("after_initialize",(function(e){var o=this.gallery,n=this;"gallery"===n.settings.mode&&(e&&!t.isSet(e.fit)&&(n.base_settings.fit=!0,n._private.applySettings()),o.refreshItems())})),e.prototype.addHook("after_reset",(function(){this.properties.gallery={items:[],current_index:0}})),e.prototype.addHook("after_create",(function(){var e=this.gallery;"gallery"===this.settings.mode&&(e._private.attachSwipeEvents(),e._private.attachNavEvents())})),e.prototype.addHook("open",(function(){var e=this.gallery,n=this;if("gallery"===n.settings.mode){e.refreshItems();var i=o()("<div/>").html(n.settings.content).find("img[src]"),s=0;i.length&&(s=t.indexOf(i.attr("src"),n.properties.gallery.items,!0)),e.goTo(s)}})),e.prototype.addHook("image_error",(function(e){var t=this;"gallery"===t.settings.mode&&(t.update({content:t.settings.gallery.error},!1),t.properties.cache.images[e]&&delete t.properties.cache.images[e])})),e.prototype.addHook("after_update",(function(){var e=this.gallery,t=this;t.isOpen()||(t.properties.gallery.items=[],t.properties.gallery.current_index=0),"gallery"===t.settings.mode&&(e.refreshItems(),e.goTo())})),e.prototype.addHook("after_update_dom",(function(){var e=this,t=!1;"gallery"===e.settings.mode&&(e.elements.$popbox.addClass("popbox-gallery"),e.properties.gallery.items.length>1&&(e.elements.$popbox_gallery_next||(e.elements.$popbox_gallery_next=o()("<a/>",{class:"popbox-gallery-next",href:"javascript:void(0);"}).html(e.settings.gallery.next).appendTo(e.elements.$popbox_container)),e.elements.$popbox_gallery_prev||(e.elements.$popbox_gallery_prev=o()("<a/>",{class:"popbox-gallery-prev",href:"javascript:void(0);"}).html(e.settings.gallery.prev).appendTo(e.elements.$popbox_container)),t=!0)),t||(e.elements.$popbox_gallery_next&&e.elements.$popbox_gallery_next.remove(),e.elements.$popbox_gallery_prev&&e.elements.$popbox_gallery_prev.remove(),e.elements.$popbox_gallery_next=!1,e.elements.$popbox_gallery_prev=!1)})),e.prototype.plugins.gallery="3.1.7"}(l),function(e){var t=e.prototype._static;t.applyDataToSettings=function(o,n,i,s){for(var r in n=t.param(n,{}),i=t.param(i,e.prototype.default_settings),s=t.param(s,""),i)if(i.hasOwnProperty(r)){var a=s+r.toLowerCase().replace("_","-");if("object"===c(i[r])&&null!==i[r])"object"===c(n[r])&&null!==n[r]||(n[r]={}),t.applyDataToSettings(o,n[r],i[r],a+"-");else{var p=o.data(a);if(void 0!==p){var l=parseFloat(p);"true"==p?p=!0:"false"==p?p=!1:l==p&&(p=l),n[r]=p}}}return n},e.prototype.default_settings.auto_setup=!0,o().fn.Popbox=function(n){n=t.param(n,{});var i=o()(this);return i.length&&i.each((function(){var i=o()(this);i.off("click.popbox_open").on("click.popbox_open",(function(s){s.preventDefault();var r,a=o().extend(!0,{},e.prototype.default_settings,n);t.applyDataToSettings(i,a);var p=a.href||i.attr("href"),l=a.auto_setup,c={},g=!1;if(p&&(1===l||!0===l)){var _={youtube:[/^(?:http:|https:)?\/\/(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_\-]+)(?:&([a-zA-Z0-9_&=.\-]+))?/,/^(?:http:|https:)?\/\/youtu.be\/([a-zA-Z0-9_\-]+)(?:\?([a-zA-Z0-9_&=.\-]+))?/,/^(?:http:|https:)?\/\/(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_\-]+)(?:\?([a-zA-Z0-9_&=.\-]+))?/],vimeo:[/^(?:http:|https:)?\/\/(?:www\.)?vimeo\.com\/([a-zA-Z0-9_\-]+)/,/^(?:http:|https:)?\/\/player\.vimeo\.com\/video\/([a-zA-Z0-9_\-]+)/],image:[/^(?:http:|https:)?\/\/[a-zA-Z0-9_\-\./]+(?:\.jpe?g|\.png|\.gif)(?:.+)?/,/^[a-zA-Z0-9_\-\./]+(?:\.jpe?g|\.png|\.gif)(?:.+)?/]};e:for(var m in _)if(_.hasOwnProperty(m)&&_[m]instanceof Array)for(var u=0;u<_[m].length;u++){var d=p.match(_[m][u]);if(d){switch(m){case"youtube":var f=d[2]?"?"+d[2]:"";c.content='<iframe width="1280" height="720" src="//www.youtube.com/embed/'+d[1]+f+'" frameborder="0" allowfullscreen></iframe>',c.fit="round";break;case"vimeo":c.content='<iframe width="1280" height="720" src="//player.vimeo.com/video/'+d[1]+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',c.fit="round";break;case"image":c.content='<img src="'+d[0]+'" alt="" />',c.fit=!0,c.mode="gallery"}o().extend(!0,a,c),g=!0;break e}}}(r=new e(g?c:a)).open(),i.data("Popbox",r)}))})),this},o()(".open-popbox").Popbox(),e.prototype.plugins.selector="3.1.7"}(l),o().Popbox=l})();