!function(t){function o(o,e){var n={forceAbsolute:!1,container:window,completeHandler:null,animate:!0};return t.extend(n,e),o.each(function(e){var i=t(o),c=t(n.container),l=n.container==window;n.forceAbsolute&&(l?i.remove().appendTo("body"):i.remove().appendTo(c.get(0))),i.css("position","absolute");var p=l?2:1.8,a=(l?c.width():c.outerWidth())/2-i.outerWidth()/2,r=(l?c.height():c.outerHeight())/p-i.outerHeight()/2;n.animate===!0?i.stop(!0,!0).animate({left:a+c.scrollLeft(),top:r+c.scrollTop()},500):i.stop(!0,!0).css({left:a+c.scrollLeft(),top:r+c.scrollTop()}),n.completeHandler&&n.completeHandler(o)})}function e(o){return t("<div />").append(t(o).eq(0).clone()).html()}function n(n,i){var c="",l="",p="",a="X",r="";t(n).click(function(n){function s(){o(h)}"function"==typeof i.onStart&&i.onStart(i),c="number"==typeof i.width&&i.width>0?"width:"+i.width+"px;":"",l="number"==typeof i.height&&i.height>0?"height:"+i.height+"px;":"",p=""!=c||""!=l?c+" "+l:"",a="string"==typeof i.closeText?i.closeText:a;var d='<div class="popbox-cast" style="display:none;height:100%; width: 100%; position:fixed; left: 0; top:0; background-color: rgba(0,0,0,0.4); z-index: 9990;"></div><div class="popbox-popup" style="position:absolute; z-index:9991; visibility:hidden;'+p+'"><a class="popbox-close">'+a+"</a>",f="</div>";r=null!=i.html&&0!=i.html&&""!=i.html&&"string"==typeof i.html?i.html:r;var u=!1;0!=i.contentid&&"string"==typeof i.contentid&&""===r&&(u=t("#"+i.contentid),r=u.length>0?e(u):r,u.remove()),t("body").append(d+r+f);var h=t(".popbox-popup"),v=t(".popbox-cast");v.fadeIn(300),0!=i.contentid&&h.find("#"+i.contentid),o(h,{animate:!1}),h.css({visibility:"",display:"none"}).fadeIn(300);var m=!1;t(window).resize(function(){0==m&&(m=!0,setTimeout(function(){s(),m=!1},500))});var b=!1;t(window).scroll(function(){0==b&&(b=!0,setTimeout(function(){s(),b=!1},500))});var w=!1;t(".popbox-cast,.popbox-close").click(function(o){w||("function"==typeof i.onClose&&i.onClose(i),h.fadeOut(500,function(){t(this).remove()}),v.fadeOut(500,function(){t(this).remove()}),w=!0),o.preventDefault()}),"function"==typeof i.onShow&&i.onShow(i),n.preventDefault()})}t.fn.PopBox=function(o){var e={transition:!1,width:0,height:0,html:!1,contentid:!1,closeText:"X",onShow:!1,onClose:!1,onStart:!1},i=t.extend({},e,o);n(this,i)}}(jQuery);